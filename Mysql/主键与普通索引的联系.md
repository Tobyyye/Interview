主键与普通索引的联系

存储上的区别？



关系数据库依赖于主键，它是数据库物理模式的基石。主键在物理层面上只有两个用途：

- 惟一地标识一行。
- 作为一个可以被外键有效引用的对象。

索引是一种特殊的文件(InnoDB数据表上的索引是表空间的一个组成部分)，它们包含着对数据表里所有记录的引用指针。下面是主键和索引的一些区别与联系。

\1. 主键一定是唯一性索引，唯一性索引并不一定就是主键。

所谓[主键](http://www.nowamagic.net/librarys/veda/tag/主键)就是能够唯一标识表中某一行的属性或属性组，一个表只能有一个主键，但可以有多个候选索引。因为主键可以唯一标识某一行记录，所以可以确保执行数据更新、删除的时候不会出现张冠李戴的错误。主键除了上述作用外，常常与外键构成参照完整性约束，防止出现数据不一致。数据库在设计时，主键起到了很重要的作用。

主键可以保证记录的唯一和主键域非空，数据库管理系统对于主键自动生成唯一索引，所以主键也是一个特殊的索引。

\2. 一个表中可以有多个唯一性索引，但只能有一个主键。

\3. 主键列不允许空值，而唯一性索引列允许空值。

\4. 索引可以提高查询的速度。

其实主键和[索引](http://www.nowamagic.net/librarys/veda/tag/索引)都是键，不过主键是逻辑键，索引是物理键，意思就是主键不实际存在，而索引实际存在在数据库中，主键一般都要建，主要是用来避免一张表中有相同的记录，索引一般可以不建，但如果需要对该表进行查询操作，则最好建，这样可以加快检索的速度。

#### FAQ

\1. 主键是个什么?

我来来具体的东西说吧，书大家都看过吧，没看过的找本翻一下，看下它每页是不是有个页码，我们的数据表主键就相当于是这个页码，明白了吧。

\2. 那么索引是什么呢？

我们还拿书来说，索引相当于书的目录，有了目录我们可以很快的知道这本书的基本内容和结构，数据索引也一样，它可以加快数据表的查询速度。

\3. 主键主索引类比，及其他们的作用？

- 主键是为了标识数据库记录唯一性，不允许记录重复，且键值不能为空，主键也是一个特殊索引。
- 数据表中只允许有一个主键，但是可以有多个索引。
- 使用主键会数据库会自动创建主索引，也可以在非主键上创建索引，方便查询效率。
- 索引可以提高查询速度，它就相当于字典的目录，可以通过它很快查询到想要的结果，而不需要进行全表扫描。
- 主键索引外索引的值可以为空。
- 主键也可以由多个字段组成，组成复合主键，同时主键肯定也是唯一索引。
- 唯一索引则表示该索引值唯一，可以由一个或几个字段组成，一个表可以有多个唯一索引。